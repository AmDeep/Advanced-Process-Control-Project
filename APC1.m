A=[500 500 200 500 700 500 500 700 700 700 500 300 700 700 500 300 300 500 500 300 300 700 500 300 500 700 700 300 500 800];
B=[8.8 8.8 8.8 2.2 13.2 15.4 8.8 4.4 4.4 13.2 8.8 4.4 13.2 13.2 8.80 13.2 4.4 8.8 8.8 4.4 13.2 4.4 8.8 13.2 8.8 4.4 13.2 4.4 8.8 8.8];
C=[6 6 6 6 9 6 6 9 3 3 6 9 9 9 1.5 9 3 6 6 9 3 9 6 3 6 3 3 3 10.5 6];
D=[90 45 90 90 120 90 90 120 120 120 90 120 60 60 90 120 60 90 90 60 60 60 90 120 135 60 60 120 90 90];
I=[A;B;C;D];

I1 = I(:,1:2:30); % TRAINING DATA
I2 = I(:,2:2:30); % TESTING DATA
E=[91 81.5 98 72 59.5 89.1 80.7 44 68 87.2 89 77 75.5 50 75 74.7 78 86 93.5 66 65 33.2 95 89.1 96 58.3 73.3 98 55.4 73.8];
E1 = E(:,1:2:30); % TRAINING DATA
E2 = E(:,2:2:30); % TESTING DATA

W = [-0.0403    0.7982    0.2416   0.5004;
    0.7148   -0.5246   -0.7970   -0.2509;
    0.3875   -0.1531   -0.8837    0.3578;
    0.7335   -0.0120   -0.3880    0.4350;
    0.4577    0.2309    0.1800   -0.8939]

I3 = I1*W
net = newff([200 800;2.2 15.4;1.5 10.5;45 135],[5 1],{'purelin' 'purelin'},'trainscg')
net.trainParam.show=1000;
net.trainParam.lr=0.2;
net.trainParam.mc=0.5;
net.trainParam.epochs=20000;
net.trainParam.goal=0.00001;

[net,tr]=train(net,I2,E2);


k=net.IW{1}
m=net.LW{2,1}
y=sim(net,I2)

